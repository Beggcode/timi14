  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
    </head>
    <body>
      <section>
        <h2>Verkefni 1 – Notendalistinn</h2>
        <p id="status1">Hleð gögn...</p>
        <ul id="user-list"></ul>

        <script>
          // TODO:
          // Ná í gögning og birta nöfn ásamt netföngum
          async function getUsersAsync() {
                const response = await fetch("https://jsonplaceholder.typicode.com/users")
                const users = await response.json()
                console.log("Users in async", users)

                const usersList = document.getElementById("user-list")
                users.forEach(user => {
                    const li = document.createElement("li")
                    li.textContent = `${user.name} – ${user.email}`
                    usersList.appendChild(li)
                })
            }
            getUsersAsync()
      </script>
    </section>
    <section>
      <h2>Verkefni 2 – Notendaleit</h2>
      <input id="userId" placeholder="Sláðu inn ID (1–10)" />
      <button onclick="getUser()">Leita</button>
      <p id="status2"></p>
      <div id="user-info"></div>

      <script>
        // TODO:
        // Ná í gögning útfrá id sem kemur úr input 
        // (sækja það með getelementbyid) og birta nöfn ásamt netföngum
        // url: `https://jsonplaceholder.typicode.com/users/${id}`
        // id eru 1-10 ef að user situr inn eh annað id sem er ekki
        // til þá eigið að birta error message t.d. Notandi finnst ekki
        async function getUser() {
          const userInput = document.getElementById("userId").value.trim();
          const id = Number(userInput);
          const status = document.getElementById("status2");
          const info = document.getElementById("user-info")

          info.textContent = "";
          status.textContent = "";

          if (!Number.isInteger(id) || id < 1 || id > 10) {
            status.textContent = "Sláðu inn tölu á bilinu 1-10";
            return;
          }

          try {
            status.textContent = "Hleð gögn...";
            const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`);
            if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
            }

            const user = await response.json();
            info.textContent = `${user.name} - ${user.email}`;
            status.textContent = "";
            console.log("user:", user);
            
          } catch (e) {
            status.textContent = "Notandi finnst ekki!"
            console.error("Villa!:", e);
          }
        }
        
      </script>
    </section>
    <section>
      <h2>Verkefni 3 – Póstalisti</h2>
      <button id="more">Sjá meira</button>
      <ul id="post-list"></ul>
      <p id="status3"></p>

      <script>
        let posts = [];
        let visibleCount = 5;
        const postList = document.getElementById("post-list");
        const moreBtn = document.getElementById("more");

        // TODO:;
        // Ná í gögn útfrá url: `https://jsonplaceholder.typicode.com/posts`
        // og birta titla, ef að notandi ýtir
        // á "more" button þá skal birta 5 næstu gögnin með
        // því að bæta við 5 í visibleCount og kalla aftur
        // í render posts
        async function getPosts() {
          // ná í posts hér með fetch
          const status = document.getElementById("status3");
          status.textContent = "Hleð gögn..."
          const res = await fetch(`https://jsonplaceholder.typicode.com/posts`)
          posts = await res.json();
          status.textContent = "";
          renderPosts();


          function renderPosts() {
            // TODO:
            // render posts hér inn í post-list, notið .slice
            // (0, visibleCount) á pósta sem þið fetchið
            // til að fá aðeins það sem þarf og for each
            // til að birta hvert eintak
            // og create element "li" til að birta titla
            // í listann
            // og append til að bæta við listann
            postList.textContent = "";
            const visible = posts.slice(0, visibleCount);

            visible.forEach(post => {
              const li = document.createElement("li");
              li.textContent = post.title;
              postList.appendChild(li);
            });

            if (visibleCount >= posts.length) {
              moreBtn.style.display = "none";
            }
          }

          document.getElementById("more").addEventListener("click", () => {
            // TODO:
            // bæta við 5 í visibleCount og kalla aftur í
            // render posts
            visibleCount += 5; renderPosts()
          });
        }

        getPosts();
      </script>
    </section>
    <section>
      <h2>Verkefni 4 – Pokémon Browser</h2>
      <input id="pokeName" placeholder="Sláðu inn Pokémon nafn" />
      <button onclick="getPokemon()">Sækja</button>
      <p id="status4"></p>
      <div id="pokemon"></div>

      <script>
        /// TODO:
        // Ná í gögn útfrá url: `https://pokeapi.co/api/v2/pokemon/${name}`
        //  og birta nöfn, myndir, hæð og þyngd
        //  name er input sem kemur úr input 
        // (sækja það með getelementbyid) og birta
        //  nöfn, myndir, hæð og þyngd
        //  url: `https://pokeapi.co/api/v2/pokemon/${name}`
        //  name eru Pokemon nöfn sem eru í pokemon api
        //  ef að notandi slær inn annað en Pokemon nafn sem
        //  er ekki til þá eigið að birta error message t.d.
        //  Pokemon fannst ekki
        const PokemonInput = document.getElementById("pokeName");
        const pokeContainer = document.getElementById("pokemon")

        async function getPokemon() {
          const status = document.getElementById("status4")
          const name = PokemonInput.value.toLowerCase();
          status.textContent = "Sæki Pokémon...";
          pokeContainer.textContent = "";

          try {
              const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${name}`)
              if (!res.ok) throw new Error("Pokémon fannst ekki");
              const data = await res.json();
              status.textContent = "";
              renderPokemon(data);
          } catch (err) {
            status.textContent = err.message;
          }
          
        }

        function renderPokemon(pokemon) {
            pokeContainer.innerHTML = `
              <h3>${pokemon.name}</h3>
              <img src="${pokemon.sprites.front_default}" alt="${pokemon.name}" />
              <p>Hæð: ${pokemon.height}</p>
              <p>Þyngd: ${pokemon.weight}</p>
        `;
        }
      
      </script>
    </section>
    <section>
      <h2>Verkefni 5 – Veðurforrit</h2>
      <p id="status5">Hleð veðri...</p>
      <div id="weather"></div>

      <script>
        async function getWeather() {
          // TODO:
          // ná í veðri útfrá url: `https://api.open-meteo.com/v1/forecast?latitude=64.13&longitude=-21.9&current_weather=true`
          //  og birta hiti og vindhraði
          //  current_weather er boolean sem er true ef
          //  að notandi vill sjá núverandi veðri
          //  url: `https://api.open-meteo.com/v1/forecast?latitude=64.13&longitude=-21.9&current_weather=true`
          const status = document.getElementById("status5");
          const weatherContainer = document.getElementById("weather");
          status.textContent = "sæki veður..."
          try {
            const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=64.13&longitude=-21.9&current_weather=true`);
            const data = await res.json();
            status.textContent = "";
            weatherContainer.textContent = "";
            weatherContainer.innerHTML =
             `Hiti: ${data.current_weather.temperature}˚C<br><br>
              Vindhraði: ${data.current_weather.windspeed}km/h`;

          } catch (err) {
            status.textContent = "";
            status.textContent = err.message;
        }
      }

        getWeather();
      </script>
    </section>
  </body>
</html>
